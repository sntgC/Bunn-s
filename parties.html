<!DOCTYPE html>

<html lang="en">
<head>
	<meta charset="utf-8">

	<title>Bunn's: Burgers & Fun</title>
	<meta name="description" content="Bunn's: Burgers & Fun">
	<meta name="author" content="DemBois">
	<link href="https://fonts.googleapis.com/css?family=Open+Sans+Condensed:300" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Averia+Sans+Libre" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Skranji" rel="stylesheet">
	<link rel="stylesheet" href="css/style.css">
	<link rel="stylesheet" href="css/copyPasteCode.css">
	<link rel="stylesheet" href="css/jquery-ui.theme.min.css">
	<link rel="stylesheet" href="css/jquery-ui.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
	<script src="libs/handlebars.min-latest.js"></script>
	<script src="js/animations.js"></script>
	<script src="js/objects.js"></script>
	<script src="js/jquery-ui.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/hammer.js/2.0.8/hammer.min.js"></script>
	<script>
		$(document).ready(function () {
			//Variables
			var slideCnts=[];
			var nameRoots=["Theme","Food","Cake"];
		
			//Template loading
			var source = $("#slideContainer-template").html();
			slideTemplate = Handlebars.compile(source);
			for(t=0;t<nameRoots.length;t++){
				document.getElementById("party"+nameRoots[t]+"Container").innerHTML = slideTemplate(partyObj.sections[t]);
				setParagraphText(nameRoots[t].toLowerCase()+"DescriptionDisplay",partyObj.sections[t].options[0].description);
				slideCnts[t]=getSlideCount("party"+nameRoots[t]+"Container");
			}
			//Event binding
			function arrowHandler(root, direction, add, slideCount, func, index) {
				$("#" + root.toLowerCase() + "Arrow" + direction).on('click', function () {
					slideToDir("party" + root + "Container", direction.toLowerCase(), 400);
					var slideIndex = (getSlideIndex("party" + root + "Container") + slideCount + add) % slideCount;
					func(slideIndex);
					setParagraphText(root.toLowerCase() + "DescriptionDisplay", partyObj.sections[index].options[slideIndex].description);
				});
			}
			for(t=0;t<nameRoots.length;t++){
				for(l=0;l<2;l++){
					var dir= (l==0? "Right":"Left");
					var add= (l==0? 1:-1);
					var themeBackgroundChange=function(sIndex){$('#themeRow').css({
						'background-image':"url("+partyObj.sections[0].options[sIndex].backgroundImage+")"
					});};
					if(t!=0)
						themeBackgroundChange=function(sIndex){};
					arrowHandler(nameRoots[t],dir,add,slideCnts[t],themeBackgroundChange, t);
				}
			}
			$(".partyBoxTiny").on('click',function (event) {
				$(event.target.parentNode.firstChild).toggleClass("selected");
			});
			$(".partyBoxTinyGoodies").on('click',function (event) {
				var divs = document.getElementsByClassName("partyBoxTinyGoodies");
				for (i = 0; i < divs.length; i++) {
					if ($(divs[i].firstChild).hasClass("selected"))
						$(divs[i].firstChild).toggleClass("selected");
				}
				$(event.target.parentNode.firstChild).toggleClass("selected");
			});
		
			//Creates jQuery UI Slider
			$(function () {
				$("#slider").slider();
			});
			
			//Party Package Div Fixed on scroll
			$(window).scroll(function () {
				var currentScroll = $(window).scrollTop();
				if (currentScroll >= fixedPartyDisplayDivTop) {
					$('#partyPackageDisplay').css({
						position : 'fixed',
						right : '-21px'
					});
				} else {
					$('#partyPackageDisplay').css({
						position : 'static',
						right : '0px;'
					});
				}
			});
			
			//Fixes resizing issue for fixed div
			var fixedPartyDisplayDivTop = $('#customPackageStart').offset().top - 100;

			$(window).resize(function () {
				fixedPartyDisplayDivTop = $('#customPackageStart').offset().top - 100;
			});
		});
		
		function getPartySelections(){
			var GPSSlides=document.getElementsByClassName("slideContainer");
			var GoodiesBoxes=document.getElementsByClassName("partyBoxTinyGoodies");
			var ActivitiesBoxes=document.getElementsByClassName("partyBoxTiny");
			var ret={};
			ret.theme=getSlideIndex($(GPSSlides[0]).attr("id"));
			ret.food={lunch:getSlideIndex($(GPSSlides[1]).attr("id")),cake:getSlideIndex($(GPSSlides[2]).attr("id")),cakeName:document.getElementById("cakeName").value}
			ret.activities=[];
			for(c=0;c<GoodiesBoxes.length;c++){
				if($(GoodiesBoxes[c]).children().first().hasClass("selected"))
					ret.goodies=$(GoodiesBoxes[c]).attr("id");
			}
			for(c=0;c<ActivitiesBoxes.length;c++){
				if($(ActivitiesBoxes[c]).children().first().hasClass("selected"))
					ret.activities.push($(ActivitiesBoxes[c]).children().first().attr("src"));
			}
			return ret;
		}

	</script>
	<script id="slideContainer-template" type="text/x-handlebars-template">
		{{#each options}}
		<div class="slide">
		<img src='{{image}}'>
		</div>
		{{/each}}
	</script>
</head>

<body style="font-size:0px;background:#dedede;" class="noSelect">
	<div id="headerWhite" style="font-size:16px">
		<ul>
			<li class="navTitle colorRed"><a href="promos" class="makeYellow">PROMOS</a></li>
			<li class="navTitle colorBlue underline makeYellow">PARTIES</li>
			<li class="navTitle colorYellow"><a href="menu" class="makeYellow">FOOD</a></li>
			<li class="navTitle colorPurple"><a href="activities" class="makeYellow">ACTIVITIES</a></li>
			<li class="navTitle logoClear" style="float:left"  id="headerLogo"><a href="index" class="makeYellow">BUNN'S</a></li>
		</ul>
	</div>
	<div id="background">
	<img src="assets/party.jpg">
	</div>
	<div style="display:inline-block;width:80vw;box-shadow:10px 0px 10px 0px rgba(0,0,0,0.26);">
	<div class="fullPageContent" id="customPackageStart" style="background:#2694e2;display:table;">
			<div class="partyRow" style="background:#7D049F;background-image:url('assets/iconPirate.png');background-repeat:no-repeat;background-position:left bottom;" id="themeRow">
				<div class="partyContainer">
					<p class="textEmphasized"><span class="textUnderlined">Themes</span></p>
					<p style="text-align:center;font-size:3vh;">Dozens of themes to select from!</p>
					<div class="partyBoxThin">
						<div class="partyArrowLeft" id="themeArrowLeft">
						</div>
					</div>
					<div class="partyBoxSmall">
						<div class="slideContainer" id="partyThemeContainer"></div>
					</div>
					<div class="partyBoxThin">
						<div class="partyArrowRight" id="themeArrowRight">
						</div>
					</div>
					<p id="themeDescriptionDisplay">Theme description here</p>
				</div>
			</div>
			<div class="fullPageContent" style="background:#2694e2;display:table;height:0;">
			<div class="partyRow" style="background:#2694e2">
				<div style="display:table-cell;">
				<div class="partyContainer">
					<p  class="textEmphasized"><span class="textUnderlined">Food</span></p>
					<p style="text-align:center;font-size:3vh;">Food for fun!</p>
					<div class="partyBoxThin">
						<div class="partyArrowLeft" id="foodArrowLeft">
						</div>
					</div>
					<div class="partyBoxSmall">
						<div class="slideContainer" id="partyFoodContainer"></div>
					</div>
					<div class="partyBoxThin">
						<div class="partyArrowRight" id="foodArrowRight">
						</div>
					</div>
					<p id="foodDescriptionDisplay">Food description here</p>
			</div>
					
					</div>
					<div style="display:table-cell;">
				<div class="partyContainer">
					<p  class="textEmphasized"><span class="textUnderlined">Cake</span></p>
					<p style="text-align:center;font-size:3vh;">Let them eat cake!</p>
					<div class="partyBoxThin">
						<div class="partyArrowLeft" id="cakeArrowLeft">
						</div>
					</div>
					<div class="partyBoxSmall">
						<div class="slideContainer" id="partyCakeContainer"></div>
					</div>
					<div class="partyBoxThin">
						<div class="partyArrowRight" id="cakeArrowRight">
						</div>
					</div>
					<p id="cakeDescriptionDisplay">Cake description here</p>
					<p>Include an inscription: <br><input type="text" id="cakeName"></p>
			</div>
					
					</div>
				</div>
			</div>
			</div>
	<div class="fullPageContent" style="background:white;display:table;">
			<div class="partyRow" style="background:#27ba3d">
				<div class="partyContainer">
					<p  class="textEmphasized"><span class="textUnderlined">Goodies</span></p>
					<p style="text-align:center;font-size:3vh;">Give them something to remember!</p>
					<div style="padding:5vmin;padding-top:0px;">
					<div class="partyBoxTinyGoodies" id="goodiesSma"><img draggable=false src="assets/poolActivityIcon.jpg"><h2 class="noSelect">Small</h2></div>
					<div class="partyBoxTinyGoodies" id="goodiesMed"><img draggable=false src="assets/bowlingActivityIcon.jpg" class="selected"><h2 class="noSelect">Medium</h2></div>
					<div class="partyBoxTinyGoodies" id="goodiesLar"><img draggable=false src="assets/arcadeActivityIcon.jpg"><h2 class="noSelect">Large</h2></div>
					</div>
					<div style="width:75%;display:inline-block;">
					<small style="margin-bottom:2vh;">Move the slider to change the amount of tokens received per child.</small>
					<div style="padding:5vmin;">
					<div id="slider"></div>
					</div>
					</div>
				</div>
			</div>
			<div class="partyRow" style="background:#7D049F">
				<div class="partyContainer">
					<p  class="textEmphasized"><span class="textUnderlined">Activities</span></p>
					<p style="text-align:center;font-size:3vh;">Keep them entertained!</p>
					<div style="padding:5vmin;padding-top:0px;">
					<div class="partyBoxTiny"><img draggable=false src="assets/poolActivityIcon.jpg"> <h2 class="noSelect">Pool</h2></div>
					<div class="partyBoxTiny"><img draggable=false src="assets/bowlingActivityIcon.jpg"><h2 class="noSelect">Bowling</h2></div>
					<div class="partyBoxTiny"><img draggable=false src="assets/arcadeActivityIcon.jpg"><h2 class="noSelect">Arcade</h2></div>
					<div class="partyBoxTiny"><img draggable=false src="assets/airhockeyActivityIcon.jpg"><h2 class="noSelect">Air Hockey</h2></div>
					<div class="partyBoxTiny"><img draggable=false src="assets/pingpongActivityIcon.jpg"><h2 class="noSelect">Ping Pong</h2></div>
					<div class="partyBoxTiny"><img draggable=false src="assets/vrActivityIcon.jpg"><h2 class="noSelect">Virtual Reality</h2></div>
					<div class="partyBoxTiny"><img draggable=false src="assets/lasertagActivityIcon.jpg"><h2 class="noSelect">Laser Tag</h2></div>
					<div class="partyBoxTiny"><img draggable=false src="assets/playgroundActivityIcon.jpg"><h2 class="noSelect">Jungle Gym</h2></div>
					</div>
				</div>
			</div>
	</div>
	</div>
	<div style="display:inline-block;background:#dedede;width:20vw;font-size:16px;top:100vh;bottom:0px;position:absolute;height:200vh;z-index:-2;padding:0px;">
		<div id="partyPackageDisplay">
			<p class="textEmphasized"><span class="textUnderlined">Your Party</span></p>
		</div>
	</div>
	<div id="footer" style="font-size:16px">
		© 2016 DemBois, Inc. All Rights Reserved.
	</div>
</body>
</html>
